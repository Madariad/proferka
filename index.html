<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>as</h1>
    <h1>Hello jjhjhjhjjh</h1>

    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/annyang/2.6.1/annyang.js" integrity="sha512-WzyURUvG8VnjyT/dMlUCHwuzJmbmNioOS0/kSMH3HDXmXzNLZoq2EVyTv3RDikwBBiBnBgpmDKRYsEg98cPYeA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> -->

<script>
 const constraints = { audio: true, video: false };
navigator.mediaDevices.getUserMedia(constraints)
  .then((stream) => {
    const audioContext = new AudioContext();
const analyser = audioContext.createAnalyser();
const microphone = audioContext.createMediaStreamSource(stream);
microphone.connect(analyser);

// Получение данных о громкости
const dataArray = new Uint8Array(analyser.frequencyBinCount);
analyser.getByteFrequencyData(dataArray);

// Вычисление средней громкости
const averageVolume = dataArray.reduce((acc, val) => acc + val, 0) / dataArray.length;
console.log('Средняя громкость:', averageVolume);

const p = document.createElement('p');

// Set the text content of the paragraph
p.textContent = averageVolume;

// Append the paragraph to the body of the document
document.body.appendChild(p);

  })
  .catch((error) => {
    console.error('Ошибка при получении медиа-потока:', error);
  });

  
</script>
</body>
</html>